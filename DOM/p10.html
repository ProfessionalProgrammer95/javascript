<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>document.cookie</h1>
    
    <button onclick="set()">Set cookies</button>
    <button onclick="resetCookies()">clear cookie</button>

    <h1 id="output"></h1>


    <script> 
    function set(){
        // var x = prompt('enter your input');
        var x = "be-practical";
            document.cookie = `userId=${x};expires=5 Jan 2024  10:58:00 AM GMT+5.30`;
            alert("cookies successfully set");
            window.location.reload();//refreshing current page
    }
    //clear cookie
    function resetCookies(){
        if(confirm(`Are you sure to clear cookie?`)){
            let myTime = new Date(); /// current date and time
            console.log('myTime', myTime.toGMTString());


            myTime.setTime(myTime.getTime()-1);
            

            document.cookie = `userId=;expires=${myTime.toGMTString()}`;
            alert('cookie cleared successfully');
            window.location.reload();//page refresh current active page
        }else{
            return ;
            // console.log('failed');
        }
    }


    /* self constructor / Anonymous function
        (function() {
        }) () 
        function name () {}
        name();
    */

    // userId-be-practical


    //self trigger function
    (function(){
        //self constructor function
        console.log(document.cookie);  // cookie var =value

        const res = document.cookie.split("=");//break string into arrays
        console.log('result =',res);  // ["userId", "Bepractical"]

        if(res[1]) {
            document.getElementById("output").innerText = `cookie ${res[0]} = ${res[1]}`;
        } else {
            document.getElementById("output").innerText = "no cookie set";
        }
    }) ();
        

    </script>
</body>
</html>